# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

### [0.5.43](https://github.com/ecomclub/app-pagseguro/compare/v0.5.42...v0.5.43) (2020-05-06)


### Bug Fixes

* app_id ([ea15c3e](https://github.com/ecomclub/app-pagseguro/commit/ea15c3e86bb8b7e1bc5a7e31af2bf4e8cf6321a7))
* close window after callback ([4b09c52](https://github.com/ecomclub/app-pagseguro/commit/4b09c52b4ea904504a0dd2de8fa0df96f415a656))
* market:publish script ([6465a56](https://github.com/ecomclub/app-pagseguro/commit/6465a56d0db3065d5a928607e3ade3f16389375b))

### [0.5.42](https://github.com/ecomclub/app-pagseguro/compare/v0.5.41...v0.5.42) (2020-04-16)


### Bug Fixes

* **list-payments:** url secure for icons ([43e9050](https://github.com/ecomclub/app-pagseguro/commit/43e905074c8cf58f514ae8564e0c0610547e7961))

### [0.5.41](https://github.com/ecomclub/app-pagseguro/compare/v0.5.40...v0.5.41) (2020-04-16)


### Bug Fixes

* **list-payments:** disabled credit_card ([35513f6](https://github.com/ecomclub/app-pagseguro/commit/35513f6c36c7c2f9c1edd06824bfbe80805c51f8))

### 0.5.40 (2020-04-16)


### Features

* application database ([259bc78](https://github.com/ecomclub/app-pagseguro/commit/259bc785e3878ee6d91bf8241ca270c56a43ba44))
* application default config ([da54ce3](https://github.com/ecomclub/app-pagseguro/commit/da54ce313742a986a40fe44c24f755573a20af45))
* create_transaction module responses ([6388cba](https://github.com/ecomclub/app-pagseguro/commit/6388cba8698fb6a4c0e6d75dc7f7459fe0229d20))
* **client:** generate session ([60fd599](https://github.com/ecomclub/app-pagseguro/commit/60fd599bcbb181e9f530abd60a7f89cff2f3fc5b))
* list_payment ([589bcb9](https://github.com/ecomclub/app-pagseguro/commit/589bcb9ed1e88a7cd32c66da1a342c3e4de35e1e))
* module create-transaction ([c797f5a](https://github.com/ecomclub/app-pagseguro/commit/c797f5a62aa153a5ed424dc4d6d463e09cf17d51))
* Pagseguro client for E-Com Plus apps ([458e5b1](https://github.com/ecomclub/app-pagseguro/commit/458e5b1ed212257a6b44d0ff14de6a8088638020))
* **notifications:** pagseguro handler ([fb13710](https://github.com/ecomclub/app-pagseguro/commit/fb13710acb42d28a652c42620dc61008debd0751))
* pagseguro fallback script ([0597754](https://github.com/ecomclub/app-pagseguro/commit/059775411736dbcae237d09da821b5d4fcd436be))
* **api:** get notifications ([b371b12](https://github.com/ecomclub/app-pagseguro/commit/b371b12dd08189d45f1f3b5b95b520721ae665ca))
* **assets:** load pagseguro-direct-payment from local ([6b92377](https://github.com/ecomclub/app-pagseguro/commit/6b92377ebc663c51bb60e043eb120579ee0210a1))
* **create_transaction:** uses installment options available in PagSeguro ([b39adb0](https://github.com/ecomclub/app-pagseguro/commit/b39adb008e9257e6e892f98503f603a056968d8c))
* **list_payment:** shows installment options available in PagSeguro ([c276132](https://github.com/ecomclub/app-pagseguro/commit/c276132092f644275c47945caffaeacaf17dc51a))
* **list_payment:** shows installment options available in PagSeguro ([d1c2fd7](https://github.com/ecomclub/app-pagseguro/commit/d1c2fd7813d9de9ec9721732789cf29897c9545a))
* **module:** create-transaction credit card response ([0ad262f](https://github.com/ecomclub/app-pagseguro/commit/0ad262fb67ec92e10d0fdd04c30d05cd27ca4e16))
* **module:** save transaction code after checkout ([a353751](https://github.com/ecomclub/app-pagseguro/commit/a3537517ebcbdb4124ea5a7d6a6cc0f35959d066))
* **notifications:** pagseguro handler ([ac69530](https://github.com/ecomclub/app-pagseguro/commit/ac69530f90a39670eb6686f92ebacc150e9065ce))
* **pagseguro:** card getHash, getBrand ([4f6cfe0](https://github.com/ecomclub/app-pagseguro/commit/4f6cfe015f86c02784c7625a905872351998ae79))
* **pagseguro-client.js:** accept discount coupon ([7d31929](https://github.com/ecomclub/app-pagseguro/commit/7d31929e721e1fe22785edccaa94f51fa4849845))
* **pagseguro-transactions.js:** save notification_code ([37bda3b](https://github.com/ecomclub/app-pagseguro/commit/37bda3b7e4ae8f484eb819bc0eb7bd03ba887cc7))
* **pagseguro-transactions.js:** save notification_code ([c3bcbbd](https://github.com/ecomclub/app-pagseguro/commit/c3bcbbd8a6a429c3897cf4e0f94bc4b4c284314f))
* **pay:** process checkout with credit card ([d93d030](https://github.com/ecomclub/app-pagseguro/commit/d93d030eeac7e38a48f343fa0764bd40314ed852))
* pagseguro oauth ([e8623bf](https://github.com/ecomclub/app-pagseguro/commit/e8623bfb8a2d751b3a82080cd861d8f2ec9f7e89))
* pagseguro oauth callback handler ([d4106fa](https://github.com/ecomclub/app-pagseguro/commit/d4106fafbe577e47e2da428c12bb16929baf76f3))
* pagseguro routes ([6ed6a23](https://github.com/ecomclub/app-pagseguro/commit/6ed6a2317fb81381bd3ad74c5dd22e6731290394))
* PagSeguroDirectPayment ([bc08170](https://github.com/ecomclub/app-pagseguro/commit/bc081708652305c65f29a2dccb83c1ca32b6bc95))
* return discount_option and installments_option ([97f15fc](https://github.com/ecomclub/app-pagseguro/commit/97f15fc9e1fb08931300bd9b9712d50d09c6514a))
* returning intermediator_buyer_id to checkout ([b1818e3](https://github.com/ecomclub/app-pagseguro/commit/b1818e31eaba433a5d73c16f3449a818c7ef2949))
* using sender.hash for payment with banking_billet ([85b619e](https://github.com/ecomclub/app-pagseguro/commit/85b619e8566aea89afd5e50b0b0f920252bdfa4a))
* **route:** pagseguro/webhook ([c173475](https://github.com/ecomclub/app-pagseguro/commit/c173475e4bd3b8fadd6af6f1d2308be32ce2cb43))


### Bug Fixes

* **card-transaction:** fallbacks to session/installments before creating payment ([ad56118](https://github.com/ecomclub/app-pagseguro/commit/ad5611858d13773e6c928d7a45b82bf763197ece))
* **card-transaction:** fix checking fetch installment before fallbacks ([c198e25](https://github.com/ecomclub/app-pagseguro/commit/c198e25f30d1fb985f9ffc629473095c905eb44a))
* **create_transaction:** parse item.price to float ([fbc996d](https://github.com/ecomclub/app-pagseguro/commit/fbc996de60c7b301c002cd439607425e21852209))
* **list_payment:** sessionId like a string ([02abc30](https://github.com/ecomclub/app-pagseguro/commit/02abc30b51abc4fb36e49b184ede64257b684d9e))
* pagseguro response validation ([f9c21e1](https://github.com/ecomclub/app-pagseguro/commit/f9c21e12e70df9488d05257abfa6f3892a1b6e70))
* **list_payment:** show installment_options only when installment.number > 1 ([da2d80d](https://github.com/ecomclub/app-pagseguro/commit/da2d80dfc44b03a3448c650a0a73319eeac47451))
* **list-payment:** check amount before trying installments list ([dc44063](https://github.com/ecomclub/app-pagseguro/commit/dc44063ea71b90e2a59a262c2addf6738ddd4902))
* **list-payments:** preventing errors ECONNRESET && ENOTFOUND ([4a7d84e](https://github.com/ecomclub/app-pagseguro/commit/4a7d84e655c08053c5c9419cfc7a70df77ec7c5d))
* **list-payments:** replace async/await with promises correctly, fallback for get installments ([70d629d](https://github.com/ecomclub/app-pagseguro/commit/70d629d3cdbd172b5a30cf94ce088b5636e4f762))
* **list-payments:** skip creating new session and installments on checkout confirmation ([b108415](https://github.com/ecomclub/app-pagseguro/commit/b108415fd37a78013044e023401e5411c1158236))
* **list-payments:** trying to set ps installments on client and pass to hash ([87bfa81](https://github.com/ecomclub/app-pagseguro/commit/87bfa81e12a0a36c9a4f1cbea14a1a6da8fca317))
* **map-items:** try final price, fallback to price ([6740a61](https://github.com/ecomclub/app-pagseguro/commit/6740a618382d42e182d3e5babbef0f2ce3a073e7))
* payment_icon ([8ffbfbe](https://github.com/ecomclub/app-pagseguro/commit/8ffbfbeaad0f08a7b0768fba240dce44f75612f3))
* **pagseguro-client:** preventing errors with addresses without number ([79c340a](https://github.com/ecomclub/app-pagseguro/commit/79c340a91282ea4bdf8c37839a8029cd97df9316))
* parseFloat for installment.value ([82d8f76](https://github.com/ecomclub/app-pagseguro/commit/82d8f76680753d0417868e109f0f852f0592673c))
* **pagseguro-client:** skip installment value calulation when not needed ([8c7884d](https://github.com/ecomclub/app-pagseguro/commit/8c7884ddb92aefe811fd69ab5b3d965c55645986))
* cleartimeout after 5 attempts ([81cb9dc](https://github.com/ecomclub/app-pagseguro/commit/81cb9dceff031b9d3789d7276d923bfb2dc5e470))
* close window when oauth is finish ([dc081c6](https://github.com/ecomclub/app-pagseguro/commit/dc081c6c2c434b5e47bd8addca11a702028ef553))
* get body from request ([02ad4de](https://github.com/ecomclub/app-pagseguro/commit/02ad4de0ee91781cf18ee8b9baa9f6ae644da126))
* get card brand name with fallback ([8a9e08f](https://github.com/ecomclub/app-pagseguro/commit/8a9e08fb94d26dce1a92ee2a2e4605c9a4186e03))
* parse string ([edc39b8](https://github.com/ecomclub/app-pagseguro/commit/edc39b8645256b2f93e964a92a79c4c2e6b9d514))
* preventing error if the order does not have the transactions property ([048331d](https://github.com/ecomclub/app-pagseguro/commit/048331d691d3bc04551550609eae1216bbc07b42))
* preventing errors when there is no number in the address ([f2a0455](https://github.com/ecomclub/app-pagseguro/commit/f2a0455b9e928f741b69dcf27676e606979e30fe))
* preventing finalizing the purchase when credit card is chosen ([cc1d5fa](https://github.com/ecomclub/app-pagseguro/commit/cc1d5fae15d4d76a5a117085db1310453c052348))
* prevents sending invalid number to pagseguro ([2f139d3](https://github.com/ecomclub/app-pagseguro/commit/2f139d31879a6df0e48bf5b5f1a094867280e9b5))
* put the transaction in a queue if there is no payment_history in the order ([b29bb32](https://github.com/ecomclub/app-pagseguro/commit/b29bb326b24d98b048ea08c3edb515dd7f2853eb))
* response module with valid schema ([0a4b46c](https://github.com/ecomclub/app-pagseguro/commit/0a4b46cce2e2c5d3cf5a3236c84fa038ca978990))
* save error message ([bba51a2](https://github.com/ecomclub/app-pagseguro/commit/bba51a21c8e04aa75efd328e1525c77fa4e5f799))
* update onload function ([aaa87b5](https://github.com/ecomclub/app-pagseguro/commit/aaa87b5ff76cf9cf8d936bfc7e1a646dd0ca83f1))
* update onload functions ([99b4fea](https://github.com/ecomclub/app-pagseguro/commit/99b4fea9b96e2c9dab565aa87868ed11cd5bb75e))
* **pagseguro-lib:** fix rounding amount total ([8a14fe9](https://github.com/ecomclub/app-pagseguro/commit/8a14fe9e6fc65f9cdc2ec0086057d7c951755398))
* **pagseguro-webhook:** handling retry correctly ([1001fdb](https://github.com/ecomclub/app-pagseguro/commit/1001fdb865792ba04872cd4ce44246fdacba4fb4))
* **payment-default.js:** fix icon links ([dfe936c](https://github.com/ecomclub/app-pagseguro/commit/dfe936cd4d17d67308ac5837c2a397f895eda9b2))
* **routes:** code refactor, async function where needed only ([7519632](https://github.com/ecomclub/app-pagseguro/commit/7519632c23c387d8864b9a8cb94795cfd3b194e2))
* **typo:** "Cartão Crédito" ([3c56dbb](https://github.com/ecomclub/app-pagseguro/commit/3c56dbb4f36991618b63ee915c1a8d54a068774f))
* **typo:** edit payment method labels, fix "Cartão de crédito" ([5bc8723](https://github.com/ecomclub/app-pagseguro/commit/5bc8723904d7121a4a43db8d2afda2323dd2cc3d))
